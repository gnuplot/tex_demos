% Written by ConTeXt terminal for GNUPLOT
% GNUPLOT version: 4.5.0, terminal version: 1.0.0 (2011-09-16)
% See also http://wiki.contextgarden.net/Gnuplot
%
\usemodule
   [gnuplot]
\setupcolors
   [state=start]
\environment common_definitions
\setupbodyfont
   [12pt]
\setupGNUPLOTterminal
   [context]
   [linejoin=mitered, % *mitered* | rounded | beveled
    linecap=butt, % *butt* | rounded | squared
    dashed=yes, % *yes* | no
    dashlength=1, % scaling factor for dash lengths
    linewidth=1, % scaling factor for line widths (1.0 means 0.5bp)
    %fontscale=0.7, % scaling factor for text labels
    points=metapost, % *metapost* | tex (Should points be drawn with MetaPost or TeX?)
    images=inline] % *inline* | external (inline only works in MKIV, external requires png support in gnuplot)

\starttext

\startGNUPLOTpage % Graphic Nr. 1
string gnuplotversion, termversion;
gnuplotversion := "4.5"; termversion := "1.0";
% scaling factor
a := 1cm;
% width and height of the figure
w := 12.700a; h := 7.620a; % (5in, 3in)
% temporary variable for storing the path and images
save p, img, ima; path p; string img, ima;
% -------------------------
% Different initialisations
% -------------------------
% for additional user-defined settings
gp_setup_before;
% text scaling factor for the whole figure
gp_scale_text := 0.7;
% pointsize scaling factor
gp_set_pointsize(1);
% linewidth scaling factor for individual lines
gp_set_linewidth(1);
% for additional user-defined settings
gp_setup_after;
% -------------------------
gp_set_linetype(-2);
p := (0.000a,0.000a)--(12.699a,0.000a)--(12.699a,7.619a)--(0.000a,7.619a)--cycle;
gp_draw(p);
gp_set_linetype(0);
gp_put_text((0.288a, 7.472a), align(left), \sometxt[gp]{context  terminal test});
gp_set_linetype(-2);
gp_set_linetype(-1);
p := (6.350a,0.000a)--(6.350a,7.619a);
gp_draw(p);
p := (0.000a,3.810a)--(12.699a,3.810a);
gp_draw(p);
gp_set_linetype(3);
p := (4.910a,3.957a)--(7.790a,3.957a)--(7.790a,3.663a)--(4.910a,3.663a)--cycle;
gp_draw(p);
gp_put_text((4.910a, 3.810a), align(left), \sometxt[gp]{12345678901234567890});
gp_put_text((4.910a, 4.223a), align(left), \sometxt[gp]{test of character width:});
gp_set_linetype(-2);
gp_put_text((6.350a, 5.580a), align(left), \sometxt[gp]{left justified});
gp_put_text((6.350a, 5.285a), align(center), \sometxt[gp]{centre+d text});
gp_put_text((6.350a, 4.990a), align(right), \sometxt[gp]{right justified});
gp_set_linetype(1);
gp_put_text((0.295a, 3.810a), angle(-270), align(center), \sometxt[gp]{rotated ce+ntred text});
gp_put_text((0.885a, 3.810a), angle(45), align(left), \sometxt[gp]{rotated by +45 deg});
gp_put_text((0.590a, 3.810a), angle(-45), align(left), \sometxt[gp]{rotated by -45 deg});
gp_set_linetype(-2);
gp_set_linetype(4);
p := (6.596a,7.619a)--(6.596a,7.497a);
gp_draw(p);
p := (6.350a,7.374a)--(6.473a,7.374a);
gp_draw(p);
gp_put_text((6.206a, 7.227a), align(right), \sometxt[gp]{show ticscale});
gp_set_linetype(-2);
gp_put_text((11.713a, 7.325a), align(right), \sometxt[gp]{-1});
p := (11.857a,7.325a)--(12.289a,7.325a);
gp_draw(p);
gp_set_linetype(-1);
gp_put_text((11.713a, 7.030a), align(right), \sometxt[gp]{0});
p := (11.857a,7.030a)--(12.289a,7.030a);
gp_draw(p);
gp_point(12.494a,7.030a,-1);
gp_set_linetype(0);
gp_put_text((11.713a, 6.735a), align(right), \sometxt[gp]{1});
p := (11.857a,6.735a)--(12.289a,6.735a);
gp_draw(p);
gp_point(12.494a,6.735a,0);
gp_set_linetype(1);
gp_put_text((11.713a, 6.440a), align(right), \sometxt[gp]{2});
p := (11.857a,6.440a)--(12.289a,6.440a);
gp_draw(p);
gp_point(12.494a,6.440a,1);
gp_set_linetype(2);
gp_put_text((11.713a, 6.145a), align(right), \sometxt[gp]{3});
p := (11.857a,6.145a)--(12.289a,6.145a);
gp_draw(p);
gp_point(12.494a,6.145a,2);
gp_set_linetype(3);
gp_put_text((11.713a, 5.850a), align(right), \sometxt[gp]{4});
p := (11.857a,5.850a)--(12.289a,5.850a);
gp_draw(p);
gp_point(12.494a,5.850a,3);
gp_set_linetype(4);
gp_put_text((11.713a, 5.555a), align(right), \sometxt[gp]{5});
p := (11.857a,5.555a)--(12.289a,5.555a);
gp_draw(p);
gp_point(12.494a,5.555a,4);
gp_set_linetype(5);
gp_put_text((11.713a, 5.260a), align(right), \sometxt[gp]{6});
p := (11.857a,5.260a)--(12.289a,5.260a);
gp_draw(p);
gp_point(12.494a,5.260a,5);
gp_set_linetype(6);
gp_put_text((11.713a, 4.965a), align(right), \sometxt[gp]{7});
p := (11.857a,4.965a)--(12.289a,4.965a);
gp_draw(p);
gp_point(12.494a,4.965a,6);
gp_set_linetype(7);
gp_put_text((11.713a, 4.670a), align(right), \sometxt[gp]{8});
p := (11.857a,4.670a)--(12.289a,4.670a);
gp_draw(p);
gp_point(12.494a,4.670a,7);
gp_set_linetype(8);
gp_put_text((11.713a, 4.375a), align(right), \sometxt[gp]{9});
p := (11.857a,4.375a)--(12.289a,4.375a);
gp_draw(p);
gp_point(12.494a,4.375a,8);
gp_set_linetype(9);
gp_put_text((11.713a, 4.080a), align(right), \sometxt[gp]{10});
p := (11.857a,4.080a)--(12.289a,4.080a);
gp_draw(p);
gp_point(12.494a,4.080a,9);
gp_set_linetype(10);
gp_put_text((11.713a, 3.785a), align(right), \sometxt[gp]{11});
p := (11.857a,3.785a)--(12.289a,3.785a);
gp_draw(p);
gp_point(12.494a,3.785a,10);
gp_set_linetype(11);
gp_put_text((11.713a, 3.490a), align(right), \sometxt[gp]{12});
p := (11.857a,3.490a)--(12.289a,3.490a);
gp_draw(p);
gp_point(12.494a,3.490a,11);
gp_set_linetype(12);
gp_put_text((11.713a, 3.195a), align(right), \sometxt[gp]{13});
p := (11.857a,3.195a)--(12.289a,3.195a);
gp_draw(p);
gp_point(12.494a,3.195a,12);
gp_set_linetype(13);
gp_put_text((11.713a, 2.900a), align(right), \sometxt[gp]{14});
p := (11.857a,2.900a)--(12.289a,2.900a);
gp_draw(p);
gp_point(12.494a,2.900a,13);
gp_set_linetype(14);
gp_put_text((11.713a, 2.605a), align(right), \sometxt[gp]{15});
p := (11.857a,2.605a)--(12.289a,2.605a);
gp_draw(p);
gp_point(12.494a,2.605a,14);
gp_set_linetype(15);
gp_put_text((11.713a, 2.310a), align(right), \sometxt[gp]{16});
p := (11.857a,2.310a)--(12.289a,2.310a);
gp_draw(p);
gp_point(12.494a,2.310a,15);
gp_set_linetype(16);
gp_put_text((11.713a, 2.015a), align(right), \sometxt[gp]{17});
p := (11.857a,2.015a)--(12.289a,2.015a);
gp_draw(p);
gp_point(12.494a,2.015a,16);
gp_set_linetype(17);
gp_put_text((11.713a, 1.720a), align(right), \sometxt[gp]{18});
p := (11.857a,1.720a)--(12.289a,1.720a);
gp_draw(p);
gp_point(12.494a,1.720a,17);
gp_set_linetype(18);
gp_put_text((11.713a, 1.425a), align(right), \sometxt[gp]{19});
p := (11.857a,1.425a)--(12.289a,1.425a);
gp_draw(p);
gp_point(12.494a,1.425a,18);
gp_set_linetype(19);
gp_put_text((11.713a, 1.130a), align(right), \sometxt[gp]{20});
p := (11.857a,1.130a)--(12.289a,1.130a);
gp_draw(p);
gp_point(12.494a,1.130a,19);
gp_set_linetype(20);
gp_put_text((11.713a, 0.835a), align(right), \sometxt[gp]{21});
p := (11.857a,0.835a)--(12.289a,0.835a);
gp_draw(p);
gp_point(12.494a,0.835a,20);
gp_set_linetype(21);
gp_put_text((11.713a, 0.540a), align(right), \sometxt[gp]{22});
p := (11.857a,0.540a)--(12.289a,0.540a);
gp_draw(p);
gp_point(12.494a,0.540a,21);
gp_set_linetype(0);
p := (5.386a,1.842a)--(5.623a,1.905a)--(5.386a,1.968a);
gp_draw(p);
p := (4.762a,1.905a)--(5.623a,1.905a);
gp_draw(p);
p := (4.138a,1.905a)--(4.138a,1.968a)--(3.901a,1.905a)--(4.138a,1.842a)--cycle;
gp_draw(p);
p := (4.762a,1.905a)--(4.138a,1.905a);
gp_draw(p);
p := (4.762a,2.529a)--(4.825a,2.529a)--(4.762a,2.766a)--(4.699a,2.529a)--cycle;
gp_fill(p);
p := (4.762a,2.529a)--(4.825a,2.529a)--(4.762a,2.766a)--(4.699a,2.529a)--cycle;
gp_draw(p);
p := (4.762a,1.905a)--(4.762a,2.529a);
gp_draw(p);
p := (4.762a,1.281a)--(4.699a,1.281a)--(4.762a,1.044a)--(4.825a,1.281a)--cycle;
gp_draw(p);
p := (4.762a,1.905a)--(4.762a,1.281a);
gp_draw(p);
p := (5.254a,2.307a)--(5.377a,2.520a)--(5.164a,2.397a);
gp_draw(p);
p := (4.360a,1.413a)--(4.147a,1.290a)--(4.270a,1.503a);
gp_draw(p);
p := (4.147a,1.290a)--(5.377a,2.520a);
gp_draw(p);
p := (4.147a,2.520a)--(4.762a,1.905a);
gp_draw(p);
p := (4.930a,1.737a)--(4.885a,1.692a)--(4.762a,1.905a)--(4.975a,1.782a)
  --(4.930a,1.737a)--(5.377a,1.290a);
gp_draw(p);
gp_set_linetype(-2);
p := (0.952a,0.304a)--(2.222a,0.304a);
gp_draw(p);
gp_put_text((2.222a, 0.304a), align(left), \sometxt[gp]{lw 1});
gp_set_linewidth(2.000);
p := (0.952a,0.608a)--(2.222a,0.608a);
gp_draw(p);
gp_put_text((2.222a, 0.608a), align(left), \sometxt[gp]{lw 2});
gp_set_linewidth(3.000);
p := (0.952a,0.912a)--(2.222a,0.912a);
gp_draw(p);
gp_put_text((2.222a, 0.912a), align(left), \sometxt[gp]{lw 3});
gp_set_linewidth(4.000);
p := (0.952a,1.216a)--(2.222a,1.216a);
gp_draw(p);
gp_put_text((2.222a, 1.216a), align(left), \sometxt[gp]{lw 4});
gp_set_linewidth(5.000);
p := (0.952a,1.520a)--(2.222a,1.520a);
gp_draw(p);
gp_put_text((2.222a, 1.520a), align(left), \sometxt[gp]{lw 5});
gp_set_linewidth(6.000);
p := (0.952a,1.824a)--(2.222a,1.824a);
gp_draw(p);
gp_put_text((2.222a, 1.824a), align(left), \sometxt[gp]{lw 6});
gp_put_text((0.952a, 2.128a), align(left), \sometxt[gp]{linewidth});
gp_set_linewidth(1.000);
gp_put_text((8.569a, 1.394a), align(center), \sometxt[gp]{pattern fill});
p := unitsquare xyscaled (0.317a,0.952a) shifted (6.350a,0.000a);
gp_fill(p,pattern(0));
p := (6.350a,0.000a)--(6.350a,0.952a)--(6.667a,0.952a)--(6.667a,0.000a)--cycle;
gp_draw(p);
gp_put_text((6.508a, 1.099a), align(center), \sometxt[gp]{0});
p := unitsquare xyscaled (0.317a,0.952a) shifted (6.825a,0.000a);
gp_fill(p,pattern(1));
p := (6.825a,0.000a)--(6.825a,0.952a)--(7.142a,0.952a)--(7.142a,0.000a)--cycle;
gp_draw(p);
gp_put_text((6.983a, 1.099a), align(center), \sometxt[gp]{1});
p := unitsquare xyscaled (0.317a,0.952a) shifted (7.300a,0.000a);
gp_fill(p,pattern(2));
p := (7.300a,0.000a)--(7.300a,0.952a)--(7.617a,0.952a)--(7.617a,0.000a)--cycle;
gp_draw(p);
gp_put_text((7.458a, 1.099a), align(center), \sometxt[gp]{2});
p := unitsquare xyscaled (0.317a,0.952a) shifted (7.775a,0.000a);
gp_fill(p,pattern(3));
p := (7.775a,0.000a)--(7.775a,0.952a)--(8.092a,0.952a)--(8.092a,0.000a)--cycle;
gp_draw(p);
gp_put_text((7.933a, 1.099a), align(center), \sometxt[gp]{3});
p := unitsquare xyscaled (0.317a,0.952a) shifted (8.250a,0.000a);
gp_fill(p,pattern(4));
p := (8.250a,0.000a)--(8.250a,0.952a)--(8.567a,0.952a)--(8.567a,0.000a)--cycle;
gp_draw(p);
gp_put_text((8.408a, 1.099a), align(center), \sometxt[gp]{4});
p := unitsquare xyscaled (0.317a,0.952a) shifted (8.725a,0.000a);
gp_fill(p,pattern(5));
p := (8.725a,0.000a)--(8.725a,0.952a)--(9.042a,0.952a)--(9.042a,0.000a)--cycle;
gp_draw(p);
gp_put_text((8.883a, 1.099a), align(center), \sometxt[gp]{5});
p := unitsquare xyscaled (0.317a,0.952a) shifted (9.200a,0.000a);
gp_fill(p,pattern(6));
p := (9.200a,0.000a)--(9.200a,0.952a)--(9.517a,0.952a)--(9.517a,0.000a)--cycle;
gp_draw(p);
gp_put_text((9.358a, 1.099a), align(center), \sometxt[gp]{6});
p := unitsquare xyscaled (0.317a,0.952a) shifted (9.675a,0.000a);
gp_fill(p,pattern(7));
p := (9.675a,0.000a)--(9.675a,0.952a)--(9.992a,0.952a)--(9.992a,0.000a)--cycle;
gp_draw(p);
gp_put_text((9.833a, 1.099a), align(center), \sometxt[gp]{7});
p := unitsquare xyscaled (0.317a,0.952a) shifted (10.150a,0.000a);
gp_fill(p,pattern(8));
p := (10.150a,0.000a)--(10.150a,0.952a)--(10.467a,0.952a)--(10.467a,0.000a)--cycle;
gp_draw(p);
gp_put_text((10.308a, 1.099a), align(center), \sometxt[gp]{8});
p := unitsquare xyscaled (0.317a,0.952a) shifted (10.625a,0.000a);
gp_fill(p,pattern(9));
p := (10.625a,0.000a)--(10.625a,0.952a)--(10.942a,0.952a)--(10.942a,0.000a)--cycle;
gp_draw(p);
gp_put_text((10.783a, 1.099a), align(center), \sometxt[gp]{9});
gp_set_linetype(2);
p := (9.525a,6.324a)--(9.207a,6.873a)--(8.572a,6.873a)--(8.255a,6.324a)
  --(8.572a,5.774a)--(9.207a,5.774a)--cycle;
gp_fill(p);
gp_set_linetype(1);
p := (10.160a,6.007a)--(9.842a,6.556a)--(9.207a,6.556a)--(8.890a,6.007a)
  --(9.207a,5.457a)--(9.842a,5.457a)--cycle;
gp_fill(p,transparent,density(0.50));
gp_set_linetype(-2);
gp_put_text((8.890a, 7.106a), align(center), \sometxt[gp]{filled polygons:});
setbounds currentpicture to unitsquare xyscaled (w,h); % 0 0 1 1
\stopGNUPLOTpage
\stoptext
